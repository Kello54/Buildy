<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Buildy - Smart Tool Management</title>
<meta name="description" content="Buildy helps builders and makers calculate, compare, and optimize their tool costs with interactive charts, tables, and calculators.">
<meta name="keywords" content="Buildy, tools, calculator, chart, construction, pricing">
<meta name="author" content="Martin Kelly">
<link rel="icon" href="docs/images/favicon.png" type="image/png">

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body { transition: background 0.3s, color 0.3s; scroll-behavior: smooth; }
.card { opacity: 0; transform: translateY(40px); transition: opacity 0.8s ease, transform 0.8s ease; }
.card.visible { opacity: 1; transform: translateY(0); }
.tooltip { position: relative; cursor: help; }
.tooltip .tooltip-text { 
  visibility: hidden; background: black; color: #fff; text-align: center; padding: 5px; border-radius: 6px;
  position: absolute; z-index: 1; bottom: 125%; left: 50%; transform: translateX(-50%);
  opacity: 0; transition: opacity 0.3s;
}
.tooltip:hover .tooltip-text { visibility: visible; opacity: 1; }
header h1, header p, header a { opacity: 0; transform: translateY(20px); transition: all 1s ease; }
header h1.visible, header p.visible, header a.visible { opacity: 1; transform: translateY(0); }
input, textarea, select { transition: all 0.3s; }
input:focus, textarea:focus, select:focus { outline: none; border-color: #4b0082; box-shadow: 0 0 5px #4b0082; }
#promoBanner { background: linear-gradient(to right, #ff9a9e, #fad0c4); color: #000; text-align: center; padding: 0.5rem; font-weight: 500; cursor: pointer; transition: transform 0.3s; }
#promoBanner.hide { transform: translateY(-100%); }

/* Micro-UX enhancements */
.card:hover { transform: translateY(-6px) scale(1.03); box-shadow: 0 12px 30px rgba(0,0,0,0.18); }
button:hover { transform: translateY(-2px); }
#toolTableBody tr:hover { background-color: rgba(75,0,130,0.1); transition: background 0.3s; }
section { opacity: 0; transform: translateY(30px); transition: opacity 0.8s ease, transform 0.8s ease; }
section.visible { opacity: 1; transform: translateY(0); }
nav a:hover { color: #7c3aed; transition: color 0.3s; }
#scrollIndicator { position: fixed; top:0; left:0; width:0; height:4px; background: #7c3aed; z-index:1000; transition: width 0.25s; }

/* Count-up animation */
.total-cell, #result { transition: all 0.5s ease-out; }
/* Chart bar hover glow */
.chartjs-render-monitor:hover { cursor: pointer; }
.chart-bar-hover { filter: drop-shadow(0 0 10px rgba(124,58,237,0.6)); transform: scale(1.05); transition: all 0.3s ease; }
/* Section headers slide-in */
section h2 { opacity: 0; transform: translateX(-30px); transition: all 0.8s ease; }
section.visible h2 { opacity: 1; transform: translateX(0); }
/* Table total flash */
.flash { animation: flash-bg 0.5s ease; }
@keyframes flash-bg { 0% {background-color:#f9fafb;} 50% {background-color:#d1c4e9;} 100% {background-color:#f9fafb;} }

/* Hero CTA hover */
header a:hover { transform: scale(1.05); box-shadow: 0 8px 20px rgba(124, 58, 237, 0.4); transition: transform 0.3s ease, box-shadow 0.3s ease; }
</style>
</head>
<body class="bg-gray-50 text-gray-900">

<!-- Promo Banner -->
<div id="promoBanner">🎉 New! Check out Buildy Pro Features! Click to dismiss</div>

<!-- Navbar -->
<nav id="navbar" class="fixed top-0 left-0 w-full bg-white shadow-md z-50 dark:bg-gray-900 dark:text-white transition">
  <div class="max-w-7xl mx-auto px-4 flex justify-between items-center h-16">
    <a href="#" class="flex items-center space-x-2">
      <img src="docs/images/logo.png" alt="Buildy Logo" class="h-8">
      <span class="font-bold text-lg">Buildy</span>
    </a>
    <div class="space-x-6 hidden md:flex">
      <a href="#features">Features</a>
      <a href="#calculator">Calculator</a>
      <a href="#multi-tool">Compare</a>
      <a href="#about">About</a>
      <a href="#testimonials">Testimonials</a>
      <a href="#contact">Contact</a>
    </div>
    <button id="themeToggle" class="p-2 rounded-full bg-purple-200 dark:bg-purple-800">🌙</button>
  </div>
</nav>

<!-- Hero -->
<header class="bg-gradient-to-r from-purple-600 to-indigo-600 text-white h-screen flex flex-col items-center justify-center text-center px-4">
  <h1 class="text-5xl font-extrabold mb-4">Smarter Tool Management with Buildy</h1>
  <p class="text-lg mb-6 max-w-xl">Calculate, compare, and optimize your building tool costs in real-time with interactive tables and charts.</p>
  <a href="#calculator" class="px-6 py-3 bg-white text-purple-700 font-semibold rounded-lg shadow hover:bg-gray-200 transition">Get Started</a>
</header>

<!-- Features -->
<section id="features" class="py-20 bg-gray-100 dark:bg-gray-800 dark:text-white">
  <div class="max-w-6xl mx-auto text-center px-4">
    <h2 class="text-3xl font-bold mb-12">Why Choose Buildy?</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      <div class="p-6 bg-white dark:bg-gray-700 rounded-lg shadow card">
        <h3 class="text-xl font-semibold mb-2">Fast Calculations</h3>
        <p>Instantly estimate tool costs and manage budgets with ease.</p>
      </div>
      <div class="p-6 bg-white dark:bg-gray-700 rounded-lg shadow card">
        <h3 class="text-xl font-semibold mb-2">Smart Comparisons</h3>
        <p>Compare multiple tools side by side for the best choice.</p>
      </div>
      <div class="p-6 bg-white dark:bg-gray-700 rounded-lg shadow card">
        <h3 class="text-xl font-semibold mb-2">Dynamic Charts</h3>
        <p>Visualize prices and quantities with interactive animated charts.</p>
      </div>
    </div>
  </div>
</section>

<!-- Calculator, Chart, Multi-Tool Comparison, About, Testimonials, Contact, Footer... -->
<!-- (Keep the previous sections as they were, unchanged) -->

<!-- Back to Top Button -->
<button id="backToTop" class="fixed bottom-6 right-6 p-3 bg-purple-600 text-white rounded-full shadow-lg hover:bg-purple-700 transition hidden">↑ Top</button>
<!-- Scroll Indicator -->
<div id="scrollIndicator"></div>

<script>
/* JS for promo, theme toggle, scroll effects, calculator, chart, table, animations */
const promoBanner=document.getElementById('promoBanner');
if(localStorage.getItem('promoDismissed')) promoBanner.style.display='none';
promoBanner.addEventListener('click',()=>{
  promoBanner.classList.add('hide');
  setTimeout(()=>{promoBanner.style.display='none';},300);
  localStorage.setItem('promoDismissed',true);
});

const themeToggle=document.getElementById('themeToggle');
if(localStorage.getItem('theme')==='dark') document.documentElement.classList.add('dark');
themeToggle.textContent=document.documentElement.classList.contains('dark')?'☀️':'🌙';
themeToggle.addEventListener('click',()=>{
  document.documentElement.classList.toggle('dark');
  themeToggle.textContent=document.documentElement.classList.contains('dark')?'☀️':'🌙';
  localStorage.setItem('theme',document.documentElement.classList.contains('dark')?'dark':'light');
});

window.addEventListener('DOMContentLoaded',()=>{
  document.querySelectorAll('header h1, header p, header a').forEach(el=>el.classList.add('visible'));
});

window.addEventListener('scroll',()=>{
  const navbar=document.getElementById('navbar');
  if(window.scrollY>10) navbar.classList.add('shadow-lg');
  else navbar.classList.remove('shadow-lg');
});

const toolPrices={hammer:15,drill:80,saw:45,screwdriver:10,wrench:25};

function animateCountUp(el,endVal){
  let start=0,duration=600,stepTime=20,step=endVal/(duration/stepTime);
  el.textContent='$0';
  const timer=setInterval(()=>{
    start+=step;
    if(start>=endVal){start=endVal; clearInterval(timer);}
    el.textContent=`$${Math.round(start)}`;
  },stepTime);
}

document.getElementById('calculateBtn').addEventListener('click',()=>{
  const tool=document.getElementById('toolSelect').value;
  const qty=parseInt(document.getElementById('quantityInput').value)||1;
  animateCountUp(document.getElementById('result'),toolPrices[tool]*qty);
});

document.getElementById('downloadReport').addEventListener('click',()=>{
  let report="Tool,Quantity,Total ($)\n";
  Object.keys(toolPrices).forEach(tool=>{
    const row=document.querySelector(`.quantity-input[data-tool="${tool}"]`);
    const qty=row?parseInt(row.value)||1:0;
    report+=`${tool},${qty},${toolPrices[tool]*qty}\n`;
  });
  const blob=new Blob([report],{type:'text/csv'});
  const url=URL.createObjectURL(blob);
  const a=document.createElement('a');
  a.href=url; a.download='buildy_report.csv'; a.click();
  URL.revokeObjectURL(url);
});

const ctx=document.getElementById('toolChart').getContext('2d');
const toolChart=new Chart(ctx,{type:'bar',data:{labels:Object.keys(toolPrices),datasets:[{label:'Price ($)',data:Object.values(toolPrices),backgroundColor:['#4b0082','#6a0dad','#9370db','#8a2be2','#ba55d3'],borderWidth:1}]},options:{responsive:true,animation:{duration:1200,easing:'easeOutElastic'},scales:{y:{beginAtZero:true}},plugins:{tooltip:{enabled:true}}}});

document.querySelectorAll('.quantity-input').forEach(input=>{
  input.addEventListener('input',()=>{
    const tool=input.dataset.tool;
    const qty=parseInt(input.value)||1;
    const totalCell=document.querySelector(`.total-cell[data-tool="${tool}"]`);
    totalCell.classList.add('flash');
    setTimeout(()=>totalCell.classList.remove('flash'),500);
    animateCountUp(totalCell,toolPrices[tool]*qty);
    const i=Object.keys(toolPrices).indexOf(tool);
    toolChart.data.datasets[0].data[i]=toolPrices[tool]*qty;
    toolChart.update();
  });
});

document.getElementById('tableSearch').addEventListener('input',()=>{
  const filter=document.getElementById('tableSearch').value.toLowerCase();
  document.querySelectorAll('#toolTableBody tr').forEach(row=>{
    row.style.display=row.cells[0].textContent.toLowerCase().includes(filter)?'':'none';
  });
});

const sectionObserver=new IntersectionObserver(entries=>{
  entries.forEach(entry=>{if(entry.isIntersecting) entry.target.classList.add('visible');});
},{threshold:0.1});
document.querySelectorAll('section').forEach(sec=>sectionObserver.observe(sec));

const observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting) entry.target.classList.add('visible');});},{threshold:0.1});
document.querySelectorAll('.card').forEach(card=>observer.observe(card));

const backToTop=document.getElementById('backToTop');
window.addEventListener('scroll',()=>{if(window.scrollY>300) backToTop.classList.remove('hidden'); else backToTop.classList.add('hidden');});
backToTop.addEventListener('click',()=>{window.scrollTo({top:0,behavior:'smooth'});});

const scrollIndicator=document.getElementById('scrollIndicator');
window.addEventListener('scroll',()=>{
  const scrollTop=document.documentElement.scrollTop||document.body.scrollTop;
  const scrollHeight=document.documentElement.scrollHeight-document.documentElement.clientHeight;
  scrollIndicator.style.width=`${(scrollTop/scrollHeight)*100}%`;
});

// Chart bar hover glow & bounce
document.getElementById('toolChart').addEventListener('mousemove', function(evt){
  const points = toolChart.getElementsAtEventForMode(evt,'nearest',{intersect:true},true);
  toolChart.update();
  if(points.length){
    const index = points[0].index;
    const meta = toolChart.getDatasetMeta(0);
    meta.data.forEach((bar,i)=>{
      bar.options.backgroundColor = ['#4b0082','#6a0dad','#9370db','#8a2be2','#ba55d3'][i];
      bar.options.borderWidth = 1;
    });
    points[0].element.options.backgroundColor = '#bb86fc';
    points[0].element.options.borderWidth = 3;
    toolChart.draw();
  }
});
</script>
</body>
</html>
