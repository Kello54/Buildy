<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Buildy - No.1 Building Material Price Comparison</title>
<link rel="icon" href="https://kello54.github.io/Buildy/docs/images/favicon.png" type="image/png">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<style>
* {margin:0; padding:0; box-sizing:border-box; font-family:Arial, sans-serif;}
body {
  background: url("https://kello54.github.io/Buildy/docs/images/construction-bg.jpg") center/cover no-repeat;
  color:#fff; min-height:100vh; display:flex; flex-direction:column;
}
header {
  background: #2e1a47; padding: 15px 40px; display:flex; justify-content:space-between; align-items:center; border-bottom:4px solid gold;
}
header .logo { display:flex; align-items:center; gap:10px; font-size:24px; font-weight:bold; color:#fff;}
header .logo img {height:40px;}
header .login {color:#fff; font-size:16px; cursor:pointer; text-decoration:none;}
nav.subheader {background:#3c245c; display:flex; justify-content:center; padding:10px 0; border-bottom:2px solid gold;}
nav.subheader a {color:#fff; text-decoration:none; padding:0 20px; font-size:16px; position:relative;}
nav.subheader a:not(:last-child)::after {content:""; position:absolute; right:0; top:50%; transform:translateY(-50%); width:2px; height:20px; background:gold;}
.hero {text-align:center; padding:80px 20px 40px; background:rgba(46,26,71,0.7);}
.hero h1 {font-size:36px; margin-bottom:20px;}
.hero input, .hero select {padding:10px; margin:5px; width:200px; border-radius:5px; border:1px solid gold;}
.hero button {padding:10px 20px; margin-left:10px; background:gold; border:none; border-radius:5px; cursor:pointer; font-weight:bold;}
.comparison {flex:1; padding:40px; background:rgba(0,0,0,0.7);}
.comparison h2 {margin-bottom:20px; border-bottom:2px solid gold; display:inline-block; padding-bottom:5px;}
table {width:100%; border-collapse:collapse; background:#fff; color:#000;}
th, td {border:1px solid #ddd; padding:12px; text-align:center;}
th {background:#2e1a47; color:#fff;}
tr:nth-child(even){background:#f4f4f4;}
.highlight {background:gold; font-weight:bold;}
.category-row td {cursor:pointer; background:#3c245c; color:gold; font-weight:bold;}
.material-row {display:table-row;}
.card-wrapper {display:flex; overflow-x:auto; gap:10px; margin-top:20px; padding-bottom:10px;}
.card {min-width:200px; background:rgba(46,26,71,0.9); padding:15px; border-radius:10px; flex-shrink:0; transition:transform 0.3s;}
.card:hover {transform:scale(1.05);}
.price-row {display:flex; justify-content:space-between; margin:5px 0;}
.collapsible-section {margin-bottom:30px;}
.collapsible-content {display:block;}
footer {background:#2e1a47; color:#fff; text-align:center; padding:20px; border-top:4px solid gold;}
</style>
</head>
<body>

<header>
  <div class="logo">
    <img src="https://kello54.github.io/Buildy/docs/images/logo.png" alt="Buildy Logo">
    <span>Buildy</span>
  </div>
  <a href="#" class="login">Login</a>
</header>

<nav class="subheader">
  <a href="#materials">Materials</a>
  <a href="#suppliers">Suppliers</a>
  <a href="#contact">Contact</a>
</nav>

<section class="hero">
  <h1>No.1 Building Material Price Comparison Website</h1>
  <input type="text" id="searchBox" placeholder="Search materials..." oninput="searchMaterials()">
  <select id="categoryFilter" onchange="filterMaterials()"><option value="">All Categories</option></select>
  <select id="supplierFilter" onchange="filterMaterials()">
    <option value="">All Suppliers</option>
    <option value="Chadwicks">Chadwicks</option>
    <option value="TJ O'Mahony">TJ O'Mahony</option>
    <option value="Woodie's">Woodie's</option>
    <option value="Heiton Buckley">Heiton Buckley</option>
  </select>
  <button onclick="searchMaterials()">Search</button>
</section>

<section class="comparison" id="materials">
  <h2>Price Comparison</h2>
  <table id="comparisonTable">
    <thead>
      <tr>
        <th>Material</th>
        <th>Chadwicks</th>
        <th>TJ O'Mahony</th>
        <th>Woodie's</th>
        <th>Heiton Buckley</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
  <div class="card-wrapper" id="cardWrapper"></div>
</section>

<section class="collapsible-section" id="suppliers">
  <div class="collapsible-header">Suppliers</div>
  <div class="collapsible-content">
    <ul>
      <li><a href="chadwicks.html">Chadwicks</a></li>
      <li><a href="tj-omahony.html">TJ O'Mahony</a></li>
      <li><a href="woodies.html">Woodie's</a></li>
      <li><a href="heiton-buckley.html">Heiton Buckley</a></li>
    </ul>
    <div id="supplierMap" style="height:300px; margin-top:15px; border-radius:10px;"></div>
  </div>
</section>

<section class="collapsible-section" id="contact">
  <div class="collapsible-header">Contact</div>
  <div class="collapsible-content">
    <p>Email: info@buildy.com</p>
    <p>Phone: +353 1 234 5678</p>
    <p>Address: 123 Construction St, Dublin, Ireland</p>
  </div>
</section>

<footer>
  <p>&copy; 2025 Buildy. All Rights Reserved.</p>
</footer>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
// Collapsible supplier/contact
document.querySelectorAll('.collapsible-header').forEach(header => {
  header.addEventListener('click', () => {
    const content = header.nextElementSibling;
    content.style.display = content.style.display === 'none' ? 'block' : 'none';
  });
});

// Sample materials list (replace with full 250+ list)
const materials = [
  {category:"Cement", name:"Cement (25kg)"},{category:"Cement", name:"White Cement (25kg)"},
  {category:"Timber", name:"Timber 2x4 (2.4m)"},{category:"Timber", name:"Timber 2x6 (3m)"},
  {category:"Bricks", name:"Clay Bricks (per 100)"},{category:"Bricks", name:"Concrete Blocks (per 50)"},
  {category:"Paint", name:"Interior Emulsion (5L)"},{category:"Paint", name:"Gloss Paint (2.5L)"},
  {category:"Tools", name:"Claw Hammer"},{category:"Tools", name:"Screwdriver Set"}
];
const suppliers = ["Chadwicks","TJ O'Mahony","Woodie's","Heiton Buckley"];

// Populate category dropdown
const categorySet = new Set(materials.map(m=>m.category));
const categoryFilter = document.getElementById('categoryFilter');
categorySet.forEach(c=>{
  const opt = document.createElement('option'); opt.value=c; opt.textContent=c; categoryFilter.appendChild(opt);
});

// Generate table grouped by category
function generateTableByCategory(filteredMaterials = materials) {
  const tbody = document.querySelector("#comparisonTable tbody"); tbody.innerHTML = "";
  const grouped = {};
  filteredMaterials.forEach(m=>{ if(!grouped[m.category]) grouped[m.category]=[]; grouped[m.category].push(m); });
  Object.keys(grouped).forEach(category=>{
    const catRow = document.createElement("tr"); catRow.className="category-row";
    catRow.innerHTML=`<td colspan="${suppliers.length+1}">${category} &#9660;</td>`; tbody.appendChild(catRow);
    grouped[category].forEach(item=>{
      const prices = suppliers.map(()=> (Math.random()*50+10).toFixed(2));
      const minPrice = Math.min(...prices);
      const row = document.createElement("tr"); row.classList.add("material-row", category.replace(/\s+/g,'-'));
      let cells = `<td>${item.name}</td>`; prices.forEach((p,i)=>{cells+=`<td class="${p==minPrice?'highlight':''}">€${p}</td>`;});
      row.innerHTML=cells; tbody.appendChild(row);
    });
  });
  document.querySelectorAll(".category-row").forEach(row=>{
    row.addEventListener('click', ()=>{
      const cat = row.textContent.trim().split(' ')[0];
      document.querySelectorAll(`.material-row.${cat.replace(/\s+/g,'-')}`).forEach(r=>r.style.display=r.style.display==='none'?'table-row':'none');
    });
  });
  generateCards(filteredMaterials);
}

// Cards
function generateCards(filteredMaterials){
  const wrapper=document.getElementById('cardWrapper'); wrapper.innerHTML="";
  filteredMaterials.forEach(item=>{
    const card=document.createElement('div'); card.className='card';
    card.innerHTML=`<h4>${item.name}</h4>`+suppliers.map(s=>`<div class="price-row"><span>${s}</span><span>€${(Math.random()*50+10).toFixed(2)}</span></div>`).join('');
    wrapper.appendChild(card);
  });
}

// Search/filter
function searchMaterials(){
  const query=document.getElementById('searchBox').value.toLowerCase();
  const cat=categoryFilter.value;
  const sup=document.getElementById('supplierFilter').value;
  let filtered=materials.filter(m=>m.name.toLowerCase().includes(query));
  if(cat) filtered=filtered.filter(m=>m.category===cat);
  generateTableByCategory(filtered);
}
function filterMaterials(){searchMaterials();}

// Map
const map=L.map('supplierMap').setView([53.3498, -6.2603],6);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{maxZoom:19}).addTo(map);
const supplierLocations={"Chadwicks":[53.3498,-6.2603],"TJ O'Mahony":[51.8985,-8.4756],"Woodie's":[53.3331,-6.2489],"Heiton Buckley":[53.2734,-9.0511]};
for(const s in supplierLocations){L.marker(supplierLocations[s]).addTo(map).bindPopup(s);}
generateTableByCategory();
</script>
</body>
</html>
