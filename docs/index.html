<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Buildy - No.1 Building Material Price Comparison</title>
<link rel="icon" href="https://kello54.github.io/Buildy/docs/images/favicon.png" type="image/png">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<style>
/* ===== Global Reset ===== */
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial,sans-serif;}
body{
  min-height:100vh;
  display:flex;
  flex-direction:column;
  background:
    linear-gradient(to right, rgba(46,26,71,0.3) 0%, rgba(46,26,71,0.3) 100%),
    url('https://kello54.github.io/Buildy/docs/images/construction-bg.jpg') center/cover no-repeat fixed;
  color:#fff;
  opacity:0;
  transition:opacity 1s;
}
body.loaded{opacity:1;}
.container{max-width:1200px;margin:0 auto;padding:0 20px;position:relative;z-index:1;}
header{background:#2e1a47;padding:15px 40px;display:flex;justify-content:space-between;align-items:center;border-bottom:4px solid gold;position:sticky;top:0;z-index:5;}
header .logo{display:flex;align-items:center;gap:10px;font-size:24px;font-weight:bold;color:#fff;}
header .logo img{height:40px;}
header .login{color:#fff;cursor:pointer;text-decoration:none;transition:0.3s;}
header .login:hover{color:gold;}
nav.subheader{background:#3c245c;display:flex;justify-content:center;padding:10px 0;border-bottom:2px solid gold;position:sticky;top:64px;z-index:4;}
nav.subheader a{color:#fff;text-decoration:none;padding:0 20px;font-size:16px;position:relative;transition:0.3s;}
nav.subheader a:hover{color:gold;}
nav.subheader a:not(:last-child)::after{content:"";position:absolute;right:0;top:50%;transform:translateY(-50%);width:2px;height:20px;background:gold;}
.hero{padding:60px 20px;text-align:center;background:rgba(46,26,71,0.5);border-radius:10px;margin:20px 0;box-shadow:0 0 20px rgba(255,215,0,0.4);}
.hero h1{font-size:36px;margin-bottom:20px;text-shadow:2px 2px 8px #000;animation:fadeInDown 1s;}
.hero input, .hero select, .hero button{padding:10px;margin:5px;border-radius:5px;border:1px solid gold;transition:0.3s;}
.hero button{background:gold;border:none;font-weight:bold;cursor:pointer;box-shadow:0 0 8px rgba(255,215,0,0.7);}
.hero button:hover{background:#ffd700;transform:scale(1.05);}
@keyframes fadeInDown{0%{opacity:0;transform:translateY(-30px);}100%{opacity:1;transform:translateY(0);}}
.collapsible-section{background:rgba(0,0,0,0.6);margin-bottom:20px;border-radius:10px;overflow:hidden;box-shadow:0 5px 15px rgba(0,0,0,0.5);}
.collapsible-header{padding:12px 20px;font-size:20px;color:gold;cursor:pointer;user-select:none;display:flex;justify-content:space-between;align-items:center;}
.collapsible-header:hover{background:rgba(255,215,0,0.2);}
.collapsible-content{display:none;padding:10px 20px;}
.collapsible-content ul{list-style:none;}
.collapsible-content ul li{margin-bottom:8px;}
.collapsible-content ul li a{text-decoration:none;color:#fff;transition:0.3s;}
.collapsible-content ul li a:hover{color:gold;}
.filters {margin-bottom:10px; display:flex; gap:10px; flex-wrap:wrap; position:sticky; top:30px; z-index:3;}
.table-wrapper {overflow-x:auto; margin-bottom:20px;}
#comparisonTable {width:100%; border-collapse:collapse; background:#fff; color:#000;}
#comparisonTable th, #comparisonTable td {border:1px solid #ddd; padding:12px; text-align:center; transition:0.3s;}
#comparisonTable th {background:#2e1a47; color:#fff; position:sticky; top:0;}
#comparisonTable tr:hover {background:#f9f1d1; transform:scale(1.01);}
.highlight {background:gold; font-weight:bold; animation:pulseHighlight 1.5s infinite;}
@keyframes pulseHighlight{0%,100%{background:gold;}50%{background:#ffd700;}}
.card-wrapper {
  display:flex;
  gap:15px;
  overflow-x:auto;
  padding-bottom:10px;
  scroll-behavior:smooth;
}
.card-wrapper::-webkit-scrollbar {height:8px;}
.card-wrapper::-webkit-scrollbar-thumb {background:gold;border-radius:4px;}
.card {
  min-width:250px;
  flex:0 0 auto;
  cursor:pointer;
  background:rgba(46,26,71,0.85);
  color:#fff;
  padding:15px;
  border-radius:8px;
  box-shadow:0 4px 12px rgba(0,0,0,0.5);
  transition:transform 0.3s, box-shadow 0.3s;
}
.card:hover {transform:translateY(-5px) scale(1.05); box-shadow:0 6px 18px rgba(255,215,0,0.7);}
.price-row{display:flex;justify-content:space-between;margin-bottom:5px;}
footer{background:#2e1a47;color:#fff;text-align:center;padding:20px;border-top:4px solid gold;margin-top:20px;}
@media(max-width:768px){.card-wrapper{flex-direction:column;}}
</style>
</head>
<body>
<div class="container">
<header>
  <div class="logo"><img src="https://kello54.github.io/Buildy/docs/images/logo.png" alt="Buildy Logo"><span>Buildy</span></div>
  <a href="#" class="login">Login</a>
</header>

<nav class="subheader">
  <a href="#">Home</a>
  <a href="#">Suppliers</a>
  <a href="#">Materials</a>
  <a href="#">Price Trends</a>
  <a href="#">Contact</a>
</nav>

<section class="hero">
  <h1>No.1 Building Material Price Comparison Website</h1>
  <input type="text" id="searchBox" placeholder="Search materials..." oninput="searchMaterials()">
  <select id="categoryFilter" onchange="filterMaterials()"><option value="">All Categories</option></select>
  <select id="supplierFilter" onchange="filterMaterials()"><option value="">All Suppliers</option>
    <option value="Chadwicks">Chadwicks</option>
    <option value="TJ O'Mahony">TJ O'Mahony</option>
    <option value="Woodie's">Woodie's</option>
    <option value="Heiton Buckley">Heiton Buckley</option>
  </select>
  <button onclick="searchMaterials()">Search</button>
</section>

<div class="collapsible-section">
  <div class="collapsible-header" onclick="toggleSection(this)">Materials ▼</div>
  <div class="collapsible-content">
    <div class="filters"></div>
    <div class="table-wrapper">
      <table id="comparisonTable">
        <thead>
          <tr>
            <th>Material</th>
            <th>Chadwicks</th>
            <th>TJ O'Mahony</th>
            <th>Woodie's</th>
            <th>Heiton Buckley</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
    <div class="card-wrapper" id="cardWrapper"></div>
  </div>
</div>

<div class="collapsible-section">
  <div class="collapsible-header" onclick="toggleSection(this)">Suppliers ▼</div>
  <div class="collapsible-content">
    <ul>
      <li><a href="chadwicks.html">Chadwicks</a></li>
      <li><a href="tj-omahony.html">TJ O'Mahony</a></li>
      <li><a href="woodies.html">Woodie's</a></li>
      <li><a href="heiton-buckley.html">Heiton Buckley</a></li>
    </ul>
    <div id="supplierMap" style="height:300px;margin-top:15px;border-radius:10px;"></div>
  </div>
</div>

<div class="collapsible-section">
  <div class="collapsible-header" onclick="toggleSection(this)">Contact ▼</div>
  <div class="collapsible-content">
    <p>Email: info@buildy.com</p>
    <p>Phone: +353 1 234 5678</p>
    <p>Address: 123 Construction St, Dublin, Ireland</p>
  </div>
</div>

<footer>
  <p>&copy; 2025 Buildy. All Rights Reserved.</p>
</footer>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
// Page fade-in
window.addEventListener('load', ()=>document.body.classList.add('loaded'));

// Collapsible toggle
function toggleSection(header){
  const content = header.nextElementSibling;
  if(content.style.display==="block"){content.style.display="none";}
  else{content.style.display="block";}
}

// Materials + categories
const categories=["Cement","Timber","Bricks","Roofing","Flooring","Paint","Pipes","Electrical","Hardware","Insulation","Plaster","Steel","Tools","Garden"];
const materials=[];
for(let i=1;i<=250;i++){const cat=categories[i%categories.length];materials.push({category:cat,name:`${cat} Material ${i}`});}
const suppliers=["Chadwicks","TJ O'Mahony","Woodie's","Heiton Buckley"];
const categorySelect=document.getElementById("categoryFilter");
categories.forEach(c=>{const opt=document.createElement("option");opt.value=c;opt.textContent=c;categorySelect.appendChild(opt);});

// Generate table + clickable cards
function generateComparison(filteredMaterials = materials){
  const tbody = document.querySelector("#comparisonTable tbody");
  const cardWrapper = document.getElementById("cardWrapper");
  tbody.innerHTML = ""; cardWrapper.innerHTML = "";
  filteredMaterials.forEach(item=>{
    const prices = suppliers.map(()=> (Math.random()*50+10).toFixed(2));
    const minPrice = Math.min(...prices);
    // Table row
    let row = "<tr><td>"+item.name+"</td>";
    prices.forEach((p,i)=>{ row+=`<td class="${p==minPrice?'highlight':''}">€${p}</td>` });
    row += "</tr>";
    tbody.innerHTML += row;
    // Card
    const card=document.createElement("div");
    card.className="card";
    card.innerHTML=`<h3>${item.name}</h3>`+suppliers.map((s,i)=>`<div class="price-row"><span>${s}</span> <span class="${prices[i]==minPrice?'highlight':''}">€${prices[i]}</span></div>`).join('');
    card.addEventListener('click',()=>window.location.href=`${suppliers[0].to
